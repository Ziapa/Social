(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{11:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3FoeP",dialogItem:"Dialogs_dialogItem__3tyjt",active:"Dialogs_active__2clQq",message:"Dialogs_message__3dR5D",messageItem:"Dialogs_messageItem__2t7-l",addPost:"Dialogs_addPost__3r6f1",errorMessage:"Dialogs_errorMessage__HVgs-",error:"Dialogs_error__2H5bx"}},13:function(e,t,a){e.exports={post:"Posts_post__3ANvF",postHeader:"Posts_postHeader__iBsHV",postInner:"Posts_postInner__3M8c3",postInnerText:"Posts_postInnerText__1ntUH"}},28:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__3ElgO",errorMessage:"MyPosts_errorMessage__1D8KJ",error:"MyPosts_error__TFtll"}},33:function(e,t,a){e.exports={main:"Users_main__2sjfs",active:"Users_active__31d6I"}},44:function(e,t,a){e.exports={header:"Header_header__2s73l"}},46:function(e,t,a){e.exports=a.p+"static/media/user.775b91d4.jpg"},47:function(e,t,a){e.exports={Profile:"Profile_Profile__3Z-zi"}},48:function(e,t,a){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__3w-RO"}},49:function(e,t,a){e.exports=a(78)},5:function(e,t,a){e.exports={nav:"NavBar_nav__2gYb2",active:"NavBar_active__2Jz7P",item:"NavBar_item__21Cku",settings:"NavBar_settings__3mj7s"}},50:function(e,t,a){},55:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);a(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(19),s=a.n(n),r=a(4),o=a(0),c=a.n(o),i=(a(55),a(44)),l=a.n(i),u=function(){return c.a.createElement("header",{className:l.a.header},c.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcR7zCD-dHiaNWCvKp-sGnzT7cA7MJb7jo0QOw&usqp=CAU",alt:""}))},m=a(5),p=a.n(m),d=function(){return c.a.createElement("nav",{className:p.a.nav},c.a.createElement("div",{className:p.a.item},c.a.createElement(r.b,{to:"/profile/",activeClassName:p.a.active},"Profile")),c.a.createElement("div",{className:p.a.item},c.a.createElement(r.b,{to:"/dialogs",activeClassName:p.a.active},"Messages")),c.a.createElement("div",{className:p.a.item},c.a.createElement(r.b,{to:"/users",activeClassName:p.a.active},"Users")),c.a.createElement("div",{className:p.a.item},c.a.createElement(r.b,{to:"/news",activeClassName:p.a.active},"News")),c.a.createElement("div",{className:p.a.item},c.a.createElement(r.b,{to:"/music",activeClassName:p.a.active},"Music")),c.a.createElement("div",{className:"".concat(p.a.item," ").concat(p.a.settings)},c.a.createElement(r.b,{to:"/settings",activeClassName:p.a.active},"Settings")))},g=a(3),f=function(){return c.a.createElement("div",null,"News")},v=function(){return c.a.createElement("div",null,"Music")},E=function(){return c.a.createElement("div",null,"Settings")},h=a(25),_=a(1),b=a(80),P={textAddMessage:"",dialog:[{name:"Den",id:Object(b.a)()},{name:"SmiT",id:Object(b.a)()},{name:"Braun",id:Object(b.a)()}],message:[{message:"Hi",id:Object(b.a)()},{message:"How are you?",id:Object(b.a)()},{message:"Yo",id:Object(b.a)()}]},O=a(26),N=a(11),j=a.n(N),C=function(e){var t="/dialogs/".concat(e.id),a=e.name;return c.a.createElement("div",null,c.a.createElement(r.b,{activeClassName:j.a.active,to:t},a))},T=function(e){return c.a.createElement("div",{className:j.a.messageItem},e.message)},w=a(12),A=Object(w.b)((function(e){return{dialog:e.dialogsPage.dialog,message:e.dialogsPage.message,textAddMessage:e.dialogsPage.textAddMessage}}),{addPost:function(){return{type:"ADD_MESSAGE"}},addTextMessage:function(e){return{type:"TEXT-ADD-MESSAGE",newText:e}}})((function(e){var t=Object(o.useState)(null),a=Object(O.a)(t,2),n=a[0],s=a[1],r=e.textAddMessage,i=e.dialog.map((function(e){return c.a.createElement(C,{name:e.name,id:e.id})})),l=e.message.map((function(e){return c.a.createElement(T,{message:e.message})}));return c.a.createElement("div",{className:j.a.dialogs},c.a.createElement("div",{className:j.a.dialogItem},i),c.a.createElement("div",{className:j.a.message},l,c.a.createElement("div",{className:j.a.addPost},c.a.createElement("textarea",{className:n?j.a.error:"",value:r,onChange:function(t){e.addTextMessage(t.currentTarget.value)}}," "),c.a.createElement("button",{onClick:function(){e.textAddMessage.trim()?e.addPost():s("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0442\u0435\u043a\u0441\u0442")}},"add post"),n&&c.a.createElement("div",{className:j.a.errorMessage},n))))})),x=a(22),y=a(23),S=a(27),D=a(24),F=a(33),M=a.n(F),I=a(46),U=a.n(I),k=function(e){for(var t=Math.ceil(+e.userCount/+e.userPageCount),a=[],n=1;n<=t;n++)a.push(n);return c.a.createElement("div",null,a.map((function(t){return c.a.createElement("span",{onClick:function(){return e.onPageChanged(t)},className:t===e.pageActive?M.a.active:""},t)})),e.users.map((function(t){return c.a.createElement("div",{key:t.id,className:M.a.main},c.a.createElement(r.b,{to:"/profile/"+t.id},c.a.createElement("img",{src:t.photos.small?t.photos.small:U.a,alt:""})),c.a.createElement("div",null,t.name),c.a.createElement("div",null,t.status),t.followed?c.a.createElement("button",{onClick:function(){e.unFollow(t.id)}},"UnFollow"):c.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))})))},H={users:[],userCount:0,userPageCount:100,pageActive:1,isFetching:!1},G=a(18),L=a.n(G),R=function(e){Object(S.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setFetchingFalse(),e.props.setPageActive(t),L.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.userPageCount)).then((function(t){e.props.setFetching(),e.props.setUsers(t.data.items),e.props.setUserCount(t.data.totalCount)}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.pageActive,"&count=").concat(this.props.userPageCount)).then((function(t){e.props.setFetching(),e.props.setUsers(t.data.items),e.props.setUserCount(t.data.totalCount)}))}},{key:"render",value:function(){return this.props.isFetching?c.a.createElement(k,{users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,setUsers:this.props.setUsers,userCount:this.props.userCount,pageActive:this.props.pageActive,onPageChanged:this.onPageChanged,setPageActive:this.props.setPageActive,userPageCount:this.props.userPageCount,setUsersCount:this.props.setUsersCounter}):c.a.createElement("div",null,"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")}}]),a}(c.a.Component),B=Object(w.b)((function(e){return{users:e.usersPage.users,userCount:e.usersPage.userCount,userPageCount:e.usersPage.userPageCount,pageActive:e.usersPage.pageActive,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:"FOLLOW",usersID:e}},unFollow:function(e){return{type:"UNFOLLOW",usersID:e}},setUsers:function(e){return{type:"SET_USERS",users:e}},setPageActive:function(e){return{type:"SET_PAGE",page:e}},setUserCount:function(e){return{type:"SET_USER_COUNT",usersCount:e}},setFetching:function(){return{type:"SET_FETCHING_TRUE"}},setFetchingFalse:function(){return{type:"SET_FETCHING_FALSE"}}})(R),W=a(47),J=a.n(W),z=a(48),X=a.n(z),q=function(e){var t,a,n=null===(t=e.profile)||void 0===t?void 0:t.aboutMe;return c.a.createElement("div",{className:X.a.ProfileInfo},c.a.createElement("div",null,"Name:  ".concat(e.profile.fullName)),c.a.createElement("div",null,n?"About me: ".concat(null===(a=e.profile)||void 0===a?void 0:a.aboutMe):""))},K={changeTextNewPost:"",posts:[{name:"Dart",time:"10:23",avatar:"https://html5css.ru/w3css/img_avatar3.png",message:"bye",like:25}],profile:{},isFetching:!1},Q=a(28),V=a.n(Q),Y=a(13),Z=a.n(Y),$=function(e){return c.a.createElement("div",{className:Z.a.post},c.a.createElement("header",{className:Z.a.postHeader},c.a.createElement("div",{className:Z.a.postHeaderName},e.name),c.a.createElement("div",{className:Z.a.postHeaderTime},e.time)),c.a.createElement("div",{className:Z.a.postInner},c.a.createElement("div",null,c.a.createElement("img",{src:e.avatar,alt:""})),c.a.createElement("div",{className:Z.a.postInnerText},e.message)),c.a.createElement("div",{className:Z.a.like},e.like," "))},ee=Object(w.b)((function(e){return{posts:e.profilePage.posts,message:e.profilePage.changeTextNewPost}}),{addPost:function(){return{type:"ADD-POST"}},updateNewPostText:function(e){return{type:"TEXT-ADD-POST",newText:e}}})((function(e){var t=Object(o.useState)(null),a=Object(O.a)(t,2),n=a[0],s=a[1],r=e.posts.map((function(e){return c.a.createElement($,{name:e.name,time:e.time,avatar:e.avatar,message:e.message,like:e.like})}));return c.a.createElement("div",{className:V.a.myPosts},c.a.createElement("h3",null," my posts"),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("textarea",{className:n?V.a.error:"",value:e.message,onChange:function(t){e.updateNewPostText(t.currentTarget.value)},placeholder:"AddPost"})),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){e.message.trim()?e.addPost():s("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0442\u0435\u043a\u0441\u0442")}},"add post"),n&&c.a.createElement("div",{className:V.a.errorMessage},n))),r)})),te=function(e){var t,a=null===(t=e.profile.photos)||void 0===t?void 0:t.large;return c.a.createElement("div",{className:J.a.Profile},c.a.createElement("img",{src:a||"dfgdfhdfhg",alt:""}),c.a.createElement(q,{profile:e.profile}),c.a.createElement(ee,null))},ae=function(e){Object(S.a)(a,e);var t=Object(D.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t="12411"),L.a.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(t),{withCredentials:!0}).then((function(t){e.props.setProfile(t.data)}))}},{key:"render",value:function(){return c.a.createElement(te,{profile:this.props.profile})}}]),a}(c.a.Component),ne=Object(g.e)(Object(w.b)((function(e){return{profile:e.profilePage.profile}}),{setProfile:function(e){return{type:"SET_PROFILE",profile:e}}})(ae)),se=function(){return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(u,null),c.a.createElement("div",{className:"body"},c.a.createElement(d,null),c.a.createElement("div",{className:"app-wrapper-content"},c.a.createElement(g.a,{path:"/profile/:userId?",render:function(){return c.a.createElement(ne,null)}}),c.a.createElement(g.a,{path:"/dialogs",render:function(){return c.a.createElement(A,null)}}),c.a.createElement(g.a,{path:"/news",render:function(){return c.a.createElement(f,null)}}),c.a.createElement(g.a,{path:"/music",render:function(){return c.a.createElement(v,null)}}),c.a.createElement(g.a,{path:"/settings",render:function(){return c.a.createElement(E,null)}}),c.a.createElement(g.a,{path:"/users",render:function(){return c.a.createElement(B,null)}}))))},re=a(17),oe=Object(re.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(h.a)(e.posts),[{name:"Dart",message:e.changeTextNewPost,time:"11:00",avatar:"https://html5css.ru/w3css/img_avatar3.png",like:0}]),changeTextNewPost:""});case"TEXT-ADD-POST":return Object(_.a)(Object(_.a)({},e),{},{changeTextNewPost:t.newText});case"SET_PROFILE":return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(_.a)(Object(_.a)({},e),{},{message:[].concat(Object(h.a)(e.message),[{message:e.textAddMessage,id:Object(b.a)()}]),textAddMessage:""});case"TEXT-ADD-MESSAGE":return Object(_.a)(Object(_.a)({},e),{},{textAddMessage:t.newText});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FETCHING_TRUE":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!0});case"SET_FETCHING_FALSE":return Object(_.a)(Object(_.a)({},e),{},{isFetching:!1});case"SET_USERS":return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case"SET_USER_COUNT":return Object(_.a)(Object(_.a)({},e),{},{userCount:t.usersCount});case"SET_PAGE":return Object(_.a)(Object(_.a)({},e),{},{pageActive:t.page});case"FOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.usersID?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.usersID?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});default:return e}}}),ce=Object(re.c)(oe);window.store=ce,s.a.render(c.a.createElement(r.a,null,c.a.createElement(w.a,{store:ce},c.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.1d0dd8af.chunk.js.map